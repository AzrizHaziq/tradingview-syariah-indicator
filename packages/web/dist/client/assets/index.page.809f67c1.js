import{t as h,c as X,k as B,g,l as u,m as A,f as o,b as x,e as P,n as R,o as D,F as M,S as F,s as G}from"./vendor.eeed17aa.js";import"./renderer/_default.page.client.tsx.46119cf6.js";function H(c,t=300){let n;return function(...i){clearTimeout(n),n=setTimeout(()=>{c.apply(this,i)},t)}}const V=(...c)=>t=>c.reduce((n,i)=>i(n),t),Z=(c,t)=>[...c,t],O=c=>t=>(n,i)=>c(i)?t(n,i):n;const J=h('<button class="ml-auto text-green-500">Clear All</button>',2),K=h('<div class="max-w-full mx-auto md:max-w-3xl"><svg class="hidden"><symbol id="link-icon" stroke="currentColor" stroke-width="0" class="fill-current text-gray-300 hover:text-green-200" viewBox="0 0 1024 1024"><path d="M574 665.4a8.03 8.03 0 0 0-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 0 0-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 0 0 0 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 0 0 0 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 0 0-11.3 0L372.3 598.7a8.03 8.03 0 0 0 0 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z"></path></symbol></svg><input type="text" placeholder="Tesla, TOPGLOV, MYX, SZSE, NYSE, MYX, intel" class="w-full rounded h-10 px-2 mb-5 "><div class="flex gap-2 mb-4"><!#><!/><!#><!/></div><!#><!/></div>',17),Q=h('<label class="exchange"><input type="checkbox" class="hidden"><span></span></label>',5),W=h('<div class="ml-auto"></div>',2),ee=h('<li class="flex group items-center gap-x-1" role="listitem"><p class="text-white opacity-80 group-hover:opacity-100"><span class="inline sm:hidden mr-2 font-bold"> </span><!#><!/></p><a target="_blank"><svg height="1em" width="1em"><use href="#link-icon"></use></svg></a><!#><!/></li>',16),te=h("<span><!#><!/>-<!#><!/></span>",6),ne=h('<ul class="flex gap-1 flex-col"></ul>',2),T=["text-red-600 bg-red-100 border-red-500","text-yellow-800 bg-yellow-100 border-yellow-500","text-blue-700 bg-blue-100 border-blue-500","text-green-700 bg-green-200 border-green-700","text-pink-800 bg-pink-100 border-pink-500","text-indigo-500 bg-indigo-200 border-indigo-500","text-gray-900 bg-gray-100 border-gray-900"],se=c=>{const{data:t,metadata:n,exchangesList:i,queryParams:m}=c,[a,s]=X({data:t,runFilter:()=>{s("data",b())},metadata:n,search:new URL(location.href).searchParams.get("q"),currentExchange:{_data:i,add(e){const r=new Set(this._data);r.add(e),s("currentExchange","_data",[...r])},delete(e){s("currentExchange","_data",this._data.filter(r=>r!==e))},has(e){return this._data.includes(e)}}}),$=Object.keys(n).reduce((e,r,l)=>({...e,[r]:T[l%T.length]}),{}),f=e=>{if(!a.search)return!0;const r=new RegExp(a.search,"ig");return e.some(l=>r.test(l))},y=([e])=>a.currentExchange.has(e),b=B(()=>t.reduce(V(O(y),O(f))(Z),[])),S=H(e=>{const r=e.target.value;s("search",r);const l=new URL(location.href);l.searchParams.set("q",encodeURIComponent(r)),history.pushState(null,"",l),r?a.runFilter():s("data",t)}),w=e=>r=>{r.target.checked?a.currentExchange.add(e):a.currentExchange.delete(e);const l=new URL(location.href);l.searchParams.delete("exchange"),a.currentExchange._data.forEach(d=>l.searchParams.append("exchange",d)),history.pushState(null,"",l),a.runFilter()},k=()=>{s("data",t),s("search",""),s("currentExchange","_data",Object.keys(n));const e=new URL(location.href);e.searchParams.delete("exchange"),e.searchParams.delete("q"),history.pushState(null,"",e)};return(()=>{const e=g(K),r=e.firstChild,l=r.nextSibling,d=l.nextSibling,v=d.firstChild,[_,E]=u(v.nextSibling),C=_.nextSibling,[U,q]=u(C.nextSibling),z=d.nextSibling,[Y,I]=u(z.nextSibling);return A(l,"input",S,!0),o(d,x(M,{get each(){return Object.keys(n)},children:p=>(()=>{const N=g(Q),L=N.firstChild,j=L.nextSibling;return A(L,"click",w(p),!0),o(j,p,void 0,Array.prototype.slice.call(j.childNodes,0)),P(()=>L.checked=a.currentExchange.has(p)),R(),N})()}),_,E),o(d,x(F,{get when(){return a.search||a.currentExchange._data.length<Object.keys(n).length},get fallback(){return g(W)},get children(){const p=g(J);return p.$$click=k,R(),p}}),U,q),o(e,x(F,{get when(){return a.data.length},fallback:"Please search or select any filter anything",get children(){return x(ae,{get data(){return b()},exchangeStyle:$})}}),Y,I),P(()=>l.value=a.search),R(),e})()},re=c=>{const[t,n,i]=c.item;return(()=>{const m=g(ee),a=m.firstChild,s=a.firstChild;s.firstChild;const $=s.nextSibling,[f,y]=u($.nextSibling),b=a.nextSibling,S=b.nextSibling,[w,k]=u(S.nextSibling);return o(s,t,void 0,Array.prototype.slice.call(s.childNodes,0)),o(a,i,f,y),G(b,"href",`https://www.tradingview.com/symbols/${t}-${n}`),o(m,t&&x(F,{when:t,get children(){const e=g(te),r=e.firstChild,[l,d]=u(r.nextSibling),v=l.nextSibling,_=v.nextSibling,[E,C]=u(_.nextSibling);return o(e,t,l,d),o(e,n,E,C),P(()=>e.className=`hidden sm:block text-sm py-1 px-2 border rounded ml-auto opacity-80 group-hover:opacity-100 ${c.exchangeColor}`),e}}),w,k),m})()},ae=c=>(()=>{const t=g(ne);return o(t,x(M,{get each(){return c.data},children:n=>x(re,{item:n,get exchangeColor(){return c.exchangeStyle[n[0]]}})}),void 0,Array.prototype.slice.call(t.childNodes,0)),t})();D(["input","click"]);export{se as Page};
